<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAlibrate: Sanjeevni - Your Lifeline to CA Success</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0A1828 0%, #1a3a52 100%);
            color: #fff;
            line-height: 1.6;
            min-height: 100vh;
            width: 100%;
        }

        header {
            background: rgba(10, 24, 40, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0, 217, 255, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            width: 100%;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #00D9FF;
            cursor: pointer;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-login {
            background: rgba(0, 217, 255, 0.1);
            color: #00D9FF;
            border: 2px solid #00D9FF;
        }

        .btn-login:hover {
            background: #00D9FF;
            color: #0A1828;
        }

        .btn-primary {
            background: linear-gradient(135deg, #00D9FF 0%, #7B61FF 100%);
            color: #fff;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 217, 255, 0.3);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .page {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero {
            min-height: calc(100vh - 80px);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }

        .hero-content h1 {
            font-size: 48px;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #00D9FF 0%, #00FF88 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-content p {
            font-size: 20px;
            color: #ccc;
            margin-bottom: 40px;
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-large {
            padding: 15px 40px;
            font-size: 16px;
        }

        .form-container {
            max-width: 400px;
            margin: 60px auto;
            padding: 40px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid rgba(0, 217, 255, 0.2);
        }

        .form-container h2 {
            margin-bottom: 30px;
            color: #00D9FF;
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #00D9FF;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid rgba(0, 217, 255, 0.2);
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #00D9FF;
            background: rgba(0, 217, 255, 0.1);
            box-shadow: 0 0 10px rgba(0, 217, 255, 0.3);
        }

        .form-group input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .form-buttons {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }

        .form-buttons button {
            flex: 1;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .dashboard {
            min-height: calc(100vh - 80px);
            padding: 40px 0;
        }

        .dashboard-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .dashboard-header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            color: #00D9FF;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 217, 255, 0.2);
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: #00D9FF;
            box-shadow: 0 10px 30px rgba(0, 217, 255, 0.2);
        }

        .card h3 {
            color: #00D9FF;
            margin-bottom: 10px;
        }

        .card p {
            color: #ccc;
            font-size: 14px;
        }

        .feature-page {
            min-height: calc(100vh - 80px);
            padding: 40px 0;
        }

        .feature-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .feature-header h1 {
            font-size: 36px;
            margin-bottom: 15px;
            color: #00D9FF;
        }

        .back-button {
            margin-bottom: 20px;
        }

        .feature-content {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 217, 255, 0.2);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .feature-content h2 {
            color: #00D9FF;
            margin-top: 20px;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .feature-content h3 {
            color: #00D9FF;
            margin-top: 15px;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .feature-content label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #00D9FF;
            margin-top: 15px;
        }

        .feature-content select,
        .feature-content input,
        .feature-content textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid rgba(0, 217, 255, 0.2);
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            border-radius: 8px;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .feature-content select:focus,
        .feature-content input:focus,
        .feature-content textarea:focus {
            outline: none;
            border-color: #00D9FF;
            background: rgba(0, 217, 255, 0.1);
            box-shadow: 0 0 10px rgba(0, 217, 255, 0.3);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: rgba(255, 255, 255, 0.03);
        }

        th, td {
            border: 1px solid rgba(0, 217, 255, 0.2);
            padding: 12px;
            text-align: left;
            color: #ccc;
        }

        th {
            background: rgba(0, 217, 255, 0.1);
            color: #00D9FF;
            font-weight: 600;
        }

        tr:hover {
            background: rgba(0, 217, 255, 0.05);
        }

        .btn-small {
            padding: 5px 10px;
            font-size: 12px;
            background: rgba(0, 217, 255, 0.1);
            color: #00D9FF;
            border: 1px solid #00D9FF;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-small:hover {
            background: #00D9FF;
            color: #0A1828;
        }

        .timer-display {
            font-size: 48px;
            text-align: center;
            color: #00D9FF;
            margin: 30px 0;
            font-weight: bold;
        }

        .timer-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
        }

        .message-notification {
            position: fixed;
            top: 100px;
            right: 20px;
            padding: 15px 25px;
            background: #00FF88;
            color: #000;
            border-radius: 8px;
            z-index: 1000;
            animation: slideIn 0.3s ease;
            font-weight: 600;
        }

        @keyframes slideIn {
            from { transform: translateX(400px); }
            to { transform: translateX(0); }
        }

        footer {
            background: rgba(10, 24, 40, 0.95);
            padding: 30px 0;
            text-align: center;
            border-top: 1px solid rgba(0, 217, 255, 0.1);
            margin-top: 60px;
            color: #ccc;
            width: 100%;
        }

        .footer-links a {
            color: #00D9FF;
            text-decoration: none;
            margin: 0 15px;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: #00FF88;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 217, 255, 0.2);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .stat-card h3 {
            color: #00D9FF;
            font-size: 24px;
            margin-bottom: 10px;
        }

        .stat-card p {
            color: #ccc;
            font-size: 14px;
        }

        .payment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
        }

        .payment-modal.active {
            display: flex;
        }

        .payment-modal-content {
            background: rgba(10, 24, 40, 0.98);
            border: 2px solid rgba(0, 217, 255, 0.5);
            border-radius: 15px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            text-align: center;
            margin: auto;
        }

        .payment-modal-content h2 {
            color: #00D9FF;
            margin-bottom: 20px;
            font-size: 28px;
        }

        .qr-container {
            background: #fff;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .qr-code-img {
            max-width: 300px;
            width: 100%;
            height: auto;
        }

        .upi-id {
            font-size: 20px;
            color: #00FF88;
            margin: 20px 0;
            padding: 15px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 8px;
            border: 2px solid rgba(0, 255, 136, 0.2);
            word-break: break-all;
        }

        .close-modal {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 20px;
        }

        .close-modal:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .syllabus-list {
            background: rgba(0, 217, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #00D9FF;
        }

        .syllabus-list ul {
            list-style-position: inside;
            margin-left: 10px;
            line-height: 2;
        }

        .syllabus-list li {
            color: #ccc;
        }

        @media (max-width: 768px) {
            .hero-content h1 { font-size: 32px; }
            .btn-large { width: 100%; }
            .dashboard-grid, .stats { grid-template-columns: 1fr; }
            .timer-display { font-size: 36px; }
            .payment-modal-content { padding: 20px; }
            .qr-code-img { max-width: 200px; }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo" onclick="showPage('home')">üéì CAlibrate: Sanjeevni</div>
            <div class="nav-buttons">
                <button class="btn btn-login" onclick="showPage('home')">Home</button>
                <button class="btn btn-primary" onclick="showPage('login')">Login</button>
            </div>
        </div>
    </header>

    <!-- PAYMENT MODAL -->
    <div id="paymentModal" class="payment-modal">
        <div class="payment-modal-content">
            <h2>Complete Your Payment</h2>
            <p style="color: #ccc; margin-bottom: 20px;">Scan the QR code below or use the UPI ID</p>
            
            <div class="qr-container">
                <img id="qrCodeImage" class="qr-code-img" alt="UPI QR Code">
            </div>

            <div class="upi-id">
                <strong>UPI ID:</strong><br>9044621001@ibl
            </div>

            <p style="color: #ccc; margin: 20px 0; font-size: 14px;">
                ‚úÖ Send payment screenshot to: CAlibrate.sanjeevni@gmail.com<br>
                ‚è±Ô∏è Your subscription activates within 1 hour<br>
                üìû Contact for support: CAlibrate.sanjeevni@gmail.com
            </p>

            <button class="close-modal" onclick="closePaymentModal()">Close</button>
        </div>
    </div>

    <!-- HOME PAGE -->
    <div id="homePage" class="page active">
        <div class="hero">
            <div class="hero-content">
                <h1>Welcome to CAlibrate: Sanjeevni</h1>
                <p>Your Lifeline to CA Success</p>
                <p style="font-size: 16px; margin-bottom: 40px;">Master CA curriculum with intelligent tracking and learning tools</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary btn-large" onclick="showPage('signup')">Get Started</button>
                    <button class="btn btn-login btn-large" onclick="showPage('login')">Login</button>
                </div>
            </div>
        </div>
    </div>

    <!-- SIGNUP PAGE -->
    <div id="signupPage" class="page">
        <div class="form-container">
            <h2>Create Account</h2>
            <form onsubmit="handleSignup(event)">
                <div class="form-group">
                    <label>Full Name *</label>
                    <input type="text" id="fullName" placeholder="Your name" required>
                </div>
                <div class="form-group">
                    <label>Email *</label>
                    <input type="email" id="email" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label>User ID *</label>
                    <input type="text" id="userId" placeholder="ca_yourname" required>
                </div>
                <div class="form-group">
                    <label>Password *</label>
                    <input type="password" id="password" placeholder="Password" required>
                </div>
                <div class="form-group">
                    <label>CA Level *</label>
                    <select id="level" required>
                        <option value="">Select Level</option>
                        <option value="Foundation">Foundation</option>
                        <option value="Intermediate">Intermediate</option>
                        <option value="Final">Final</option>
                    </select>
                </div>
                <div class="form-buttons">
                    <button type="button" class="btn btn-secondary" onclick="showPage('home')">Back</button>
                    <button type="submit" class="btn btn-primary">Sign Up</button>
                </div>
            </form>
        </div>
    </div>

    <!-- LOGIN PAGE -->
    <div id="loginPage" class="page">
        <div class="form-container">
            <h2>Login</h2>
            <form onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label>User ID or Email *</label>
                    <input type="text" id="loginUserId" placeholder="User ID or email" required>
                </div>
                <div class="form-group">
                    <label>Password *</label>
                    <input type="password" id="loginPassword" placeholder="Password" required>
                </div>
                <div class="form-group">
                    <label>CA Level *</label>
                    <select id="loginLevel" required>
                        <option value="">Select Level</option>
                        <option value="Foundation">Foundation</option>
                        <option value="Intermediate">Intermediate</option>
                        <option value="Final">Final</option>
                    </select>
                </div>
                <div class="form-buttons">
                    <button type="button" class="btn btn-secondary" onclick="showPage('home')">Back</button>
                    <button type="submit" class="btn btn-primary">Login</button>
                </div>
            </form>
        </div>
    </div>

    <!-- DASHBOARD PAGE -->
    <div id="dashboardPage" class="page">
        <div class="container">
            <div class="dashboard">
                <div class="dashboard-header">
                    <h1>Welcome, <span id="studentName">Student</span>! üëã</h1>
                    <p id="greetingMessage" style="color: #ccc; margin-bottom: 30px;"></p>
                </div>

                <div class="dashboard-grid">
                    <div class="card" onclick="showPage('topics')">
                        <h3>üìö Topic Tracker</h3>
                        <p>Track topics chapter-wise with full syllabus</p>
                    </div>
                    <div class="card" onclick="showPage('timer')">
                        <h3>‚è±Ô∏è Focus Timer</h3>
                        <p>Pomodoro study sessions</p>
                    </div>
                    <div class="card" onclick="showPage('chatbot')">
                        <h3>ü§ñ Sanjeevni Chatbot</h3>
                        <p>AI-powered doubt resolution</p>
                    </div>
                    <div class="card" onclick="showPage('payment')">
                        <h3>üí≥ Subscription</h3>
                        <p>Upgrade your membership</p>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 40px;">
                    <button class="btn btn-login" onclick="handleLogout()">Logout</button>
                </div>
            </div>
        </div>
    </div>

    <!-- TOPIC TRACKER PAGE -->
    <div id="topicsPage" class="page">
        <div class="container">
            <div class="feature-page">
                <div class="back-button">
                    <button class="btn btn-login" onclick="showPage('dashboard')">‚Üê Back</button>
                </div>
                <div class="feature-header">
                    <h1>üìö Topic Tracker</h1>
                </div>

                <div class="feature-content">
                    <h2>Select Subject & Chapter</h2>
                    
                    <label>Subject:</label>
                    <select id="subjectSelect" onchange="loadChaptersAndSyllabus()">
                        <option value="">Choose Subject</option>
                    </select>

                    <label>Chapter:</label>
                    <select id="chapterSelect" onchange="loadTopics()">
                        <option value="">Choose Chapter</option>
                    </select>

                    <div id="syllabusDisplay"></div>

                    <h2>Add Topic</h2>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <input type="text" id="topicName" placeholder="Topic Name">
                        <input type="text" id="questionNumbers" placeholder="Q. Numbers">
                        <select id="classification">
                            <option value="">Classification</option>
                            <option value="Most Important">Most Important</option>
                            <option value="Important">Important</option>
                            <option value="Good for Reading">Good for Reading</option>
                            <option value="Okay">Okay</option>
                        </select>
                        <button class="btn btn-primary" onclick="addTopic()">Add Topic</button>
                    </div>

                    <h2>Topics Added</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Topic</th>
                                <th>Q. Numbers</th>
                                <th>Classification</th>
                                <th>Mark</th>
                                <th>Delete</th>
                            </tr>
                        </thead>
                        <tbody id="topicBody">
                            <tr>
                                <td colspan="6" style="text-align: center; color: #999;">Select chapter to add topics</td>
                            </tr>
                        </tbody>
                    </table>

                    <h2 style="margin-top: 30px;">Progress</h2>
                    <div class="stats">
                        <div class="stat-card">
                            <h3 id="totalTopics">0</h3>
                            <p>Total Topics</p>
                        </div>
                        <div class="stat-card">
                            <h3 id="revisionCount">0</h3>
                            <p>For Revision</p>
                        </div>
                        <div class="stat-card">
                            <h3 id="completedCount">0</h3>
                            <p>Completed</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- FOCUS TIMER PAGE -->
    <div id="timerPage" class="page">
        <div class="container">
            <div class="feature-page">
                <div class="back-button">
                    <button class="btn btn-login" onclick="showPage('dashboard')">‚Üê Back</button>
                </div>
                <div class="feature-header">
                    <h1>‚è±Ô∏è Focus Timer</h1>
                </div>

                <div class="feature-content">
                    <label>Session Type:</label>
                    <select id="sessionType" onchange="updateTimer()">
                        <option value="study">Study (25 min)</option>
                        <option value="break">Break (5 min)</option>
                        <option value="longbreak">Long Break (15 min)</option>
                    </select>

                    <div class="timer-display" id="timerDisplay">25:00</div>

                    <div class="timer-controls">
                        <button class="btn btn-primary" onclick="startTimer()">Start</button>
                        <button class="btn btn-login" onclick="pauseTimer()">Pause</button>
                        <button class="btn btn-secondary" onclick="resetTimer()">Reset</button>
                    </div>

                    <h2>Statistics</h2>
                    <div class="stats">
                        <div class="stat-card">
                            <h3 id="sessionsCompleted">0</h3>
                            <p>Sessions</p>
                        </div>
                        <div class="stat-card">
                            <h3 id="totalMinutes">0</h3>
                            <p>Total Minutes</p>
                        </div>
                        <div class="stat-card">
                            <h3 id="currentStreak">0</h3>
                            <p>Streak</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- CHATBOT PAGE -->
    <div id="chatbotPage" class="page">
        <div class="container">
            <div class="feature-page">
                <div class="back-button">
                    <button class="btn btn-login" onclick="showPage('dashboard')">‚Üê Back</button>
                </div>
                <div class="feature-header">
                    <h1>ü§ñ Sanjeevni Chatbot</h1>
                </div>

                <div class="feature-content">
                    <div style="background: rgba(255, 255, 255, 0.03); padding: 20px; border-radius: 8px; height: 400px; overflow-y: auto; margin-bottom: 20px;" id="chatMessages">
                        <div style="padding: 10px; background: rgba(123, 97, 255, 0.1); border-radius: 8px; margin-bottom: 15px;">
                            üëã <strong>Sanjeevni:</strong> Hello! Ask me any CA concept question in simple language.
                        </div>
                    </div>

                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="userInput" placeholder="Ask your question..." style="flex: 1; padding: 10px; border: 1px solid rgba(0, 217, 255, 0.2); background: rgba(255, 255, 255, 0.05); color: #fff; border-radius: 8px;" onkeypress="handleKeyPress(event)">
                        <button onclick="sendMessage()" class="btn btn-primary">Send</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PAYMENT PAGE -->
    <div id="paymentPage" class="page">
        <div class="container">
            <div class="feature-page">
                <div class="back-button">
                    <button class="btn btn-login" onclick="showPage('dashboard')">‚Üê Back</button>
                </div>
                <div class="feature-header">
                    <h1>üí≥ Subscription Plans</h1>
                </div>

                <div class="feature-content">
                    <h2>30-Day Free Trial</h2>
                    <p style="color: #ccc; margin-bottom: 20px;">Full access to all features. No credit card required.</p>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div style="background: rgba(0, 217, 255, 0.1); padding: 20px; border-radius: 8px; border: 2px solid rgba(0, 217, 255, 0.2);">
                            <h3 style="color: #00D9FF; margin-bottom: 15px;">Monthly</h3>
                            <p style="font-size: 24px; color: #00FF88; margin-bottom: 10px;"><strong>‚Çπ50</strong>/month</p>
                            <button class="btn btn-primary" style="width: 100%;" onclick="openPaymentModal()">Subscribe Now</button>
                        </div>

                        <div style="background: rgba(0, 217, 255, 0.1); padding: 20px; border-radius: 8px; border: 2px solid #00D9FF;">
                            <h3 style="color: #00D9FF; margin-bottom: 15px;">3-Month (Popular)</h3>
                            <p style="font-size: 24px; color: #00FF88; margin-bottom: 10px;"><strong>‚Çπ149</strong></p>
                            <button class="btn btn-primary" style="width: 100%; background: #00FF88; color: #0A1828;" onclick="openPaymentModal()">Subscribe Now</button>
                        </div>

                        <div style="background: rgba(0, 217, 255, 0.1); padding: 20px; border-radius: 8px; border: 2px solid rgba(0, 217, 255, 0.2);">
                            <h3 style="color: #00D9FF; margin-bottom: 15px;">Annual (Best Value)</h3>
                            <p style="font-size: 24px; color: #00FF88; margin-bottom: 10px;"><strong>‚Çπ550</strong></p>
                            <button class="btn btn-primary" style="width: 100%;" onclick="openPaymentModal()">Subscribe Now</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer>
        <p>CAlibrate: Sanjeevni ¬© 2025 | Your Lifeline to CA Success</p>
        <p style="margin-top: 10px; font-size: 12px;">üìß CAlibrate.sanjeevni@gmail.com</p>
    </footer>

    <script>
        // COMPLETE CURRICULUM WITH DETAILED SYLLABUS
        const curriculumData = {
            Foundation: {
                'Accounting': {
                    chapters: [
                        'Recording Business Transactions',
                        'Classifying Business Transactions',
                        'Recording in Books of Accounts - Journals',
                        'Recording in Books of Accounts - Ledger',
                        'Trial Balance',
                        'Bank Reconciliation',
                        'Financial Statements'
                    ],
                    syllabus: '‚Ä¢ Double Entry System\n‚Ä¢ Journal entries for various transactions\n‚Ä¢ Ledger posting and balancing\n‚Ä¢ Trial Balance concepts\n‚Ä¢ Bank reconciliation procedures\n‚Ä¢ Preparation of financial statements (P&L, Balance Sheet)'
                },
                'Business Law': {
                    chapters: [
                        'Introduction to Law',
                        'Contract Act - Formation',
                        'Contract Act - Terms & Conditions',
                        'Sale of Goods Act',
                        'Partnership Act - Formation',
                        'Partnership Act - Liabilities'
                    ],
                    syllabus: '‚Ä¢ Nature and scope of law\n‚Ä¢ Essential elements of contract\n‚Ä¢ Breach of contract and remedies\n‚Ä¢ Essentials of sale\n‚Ä¢ Rights of buyer and seller\n‚Ä¢ Formation of partnership\n‚Ä¢ Rights and duties of partners'
                },
                'Business Mathematics': {
                    chapters: [
                        'Algebra Basics',
                        'Quadratic Equations',
                        'Permutations & Combinations',
                        'Probability Theory',
                        'Calculus - Differential',
                        'Calculus - Integral',
                        'Financial Mathematics'
                    ],
                    syllabus: '‚Ä¢ Algebraic equations and inequalities\n‚Ä¢ Quadratic functions\n‚Ä¢ Permutations and combinations formulas\n‚Ä¢ Probability concepts\n‚Ä¢ Differentiation techniques\n‚Ä¢ Integration methods\n‚Ä¢ Simple and compound interest'
                }
            },
            Intermediate: {
                'Accounting': {
                    chapters: [
                        'Depreciation and Amortization',
                        'Provisions and Reserves',
                        'Contingent Liabilities',
                        'Accounts from Incomplete Records',
                        'Consolidation of Accounts',
                        'Investment Accounts',
                        'Accounting for Special Transactions'
                    ],
                    syllabus: '‚Ä¢ Depreciation methods (Straight-line, WDV)\n‚Ä¢ Provision vs Reserve\n‚Ä¢ Contingent liabilities treatment\n‚Ä¢ Single entry system conversion\n‚Ä¢ Preparation of final accounts from trial balance\n‚Ä¢ Investment account preparation\n‚Ä¢ Treatment of special items'
                },
                'Taxation': {
                    chapters: [
                        'Income Tax - Basics',
                        'Income from Salary',
                        'Income from House Property',
                        'Income from Business',
                        'Income from Capital Gains',
                        'Income from Other Sources',
                        'Deductions from Gross Total Income',
                        'Basics of GST'
                    ],
                    syllabus: '‚Ä¢ Previous year vs Assessment year\n‚Ä¢ Residential status\n‚Ä¢ Salary computation\n‚Ä¢ House property treatment\n‚Ä¢ Business profit calculation\n‚Ä¢ Capital gains classification\n‚Ä¢ Various deductions under Chapter VIA\n‚Ä¢ GST rates and input tax credit'
                },
                'Cost Accounting': {
                    chapters: [
                        'Introduction to Costing',
                        'Material Costing',
                        'Labor Costing',
                        'Overhead Costing',
                        'Cost Allocation',
                        'Break-even Analysis',
                        'Marginal Costing'
                    ],
                    syllabus: '‚Ä¢ Costing terminology\n‚Ä¢ Material valuation methods (FIFO, LIFO, Weighted Average)\n‚Ä¢ Labor cost accounting\n‚Ä¢ Fixed and variable overhead\n‚Ä¢ Cost allocation methods\n‚Ä¢ Break-even point calculation\n‚Ä¢ Contribution margin analysis'
                }
            },
            Final: {
                'Auditing & Assurance': {
                    chapters: [
                        'Auditing Standards (SAs)',
                        'Planning and Risk Assessment',
                        'Audit Evidence',
                        'Materiality and Audit',
                        'Internal Controls',
                        'Testing and Procedures',
                        'Audit Reporting',
                        'Special Audit Areas'
                    ],
                    syllabus: '‚Ä¢ SA 200 to SA 700 standards\n‚Ä¢ Risk of material misstatement\n‚Ä¢ Audit procedures and techniques\n‚Ä¢ Materiality threshold determination\n‚Ä¢ Internal control evaluation\n‚Ä¢ Sampling methods\n‚Ä¢ Audit reports formats\n‚Ä¢ Related party transactions audit'
                },
                'Financial Reporting (Ind AS)': {
                    chapters: [
                        'Ind AS 1 - Presentation of Financial Statements',
                        'Ind AS 2 - Inventories',
                        'Ind AS 8 - Accounting Policies',
                        'Ind AS 10 - Events After Reporting Date',
                        'Ind AS 16 - Property, Plant & Equipment',
                        'Ind AS 18 - Revenue from Contracts',
                        'Ind AS 37 - Provisions, Contingent Liabilities',
                        'Ind AS 36 - Impairment of Assets',
                        'Ind AS 32 - Financial Instruments - Presentation',
                        'Ind AS 109 - Financial Instruments - Recognition'
                    ],
                    syllabus: '‚Ä¢ Conceptual framework\n‚Ä¢ Recognition and measurement criteria\n‚Ä¢ Presentation requirements\n‚Ä¢ Disclosure standards\n‚Ä¢ Transition provisions\n‚Ä¢ Impact of Ind AS adoption\n‚Ä¢ Specific treatment for each standard'
                },
                'Direct Taxation': {
                    chapters: [
                        'Income Tax - Advanced Concepts',
                        'Residential Status & Scope',
                        'Computation of Income',
                        'Deductions and Exemptions',
                        'Capital Gains Taxation',
                        'Loss and Set-off',
                        'Transfer Pricing',
                        'International Taxation Aspects'
                    ],
                    syllabus: '‚Ä¢ Residential status determination\n‚Ä¢ Global income concept\n‚Ä¢ Salary income complex issues\n‚Ä¢ Business income adjustments\n‚Ä¢ Capital gains indexation\n‚Ä¢ Loss carry forward/backward\n‚Ä¢ TP mechanism and documentation\n‚Ä¢ DTAA provisions'
                },
                'Corporate Law': {
                    chapters: [
                        'Companies Act - Governance',
                        'Directors and Management',
                        'Share Capital Transactions',
                        'Meetings and Resolutions',
                        'Accounts and Audit',
                        'Borrowing and Debentures',
                        'Winding Up',
                        'Regulatory Compliance'
                    ],
                    syllabus: '‚Ä¢ Board constitution and powers\n‚Ä¢ Directors duties and liabilities\n‚Ä¢ Share issuance and buyback\n‚Ä¢ Board and General meetings\n‚Ä¢ Financial statements filing\n‚Ä¢ Statutory audit requirements\n‚Ä¢ Voluntary and compulsory winding up\n‚Ä¢ MCA compliance requirements'
                }
            }
        };

        let timerInterval = null;
        let timeLeft = 1500;
        let topicsData = {};
        let currentChapter = '';
        let currentSubject = '';

        function showPage(pageName) {
            const pages = document.querySelectorAll('.page');
            pages.forEach(p => p.classList.remove('active'));
            document.getElementById(pageName + 'Page').classList.add('active');
            window.scrollTo(0, 0);
        }

        function handleSignup(event) {
            event.preventDefault();
            const fullName = document.getElementById('fullName').value;
            const userId = document.getElementById('userId').value;
            const level = document.getElementById('level').value;

            localStorage.setItem('currentStudent', JSON.stringify({fullName, userId, level}));
            showMessage('‚úÖ Account created!');
            setTimeout(() => {
                document.getElementById('loginUserId').value = userId;
                handleLogin(new Event('submit'));
            }, 1500);
        }

        function handleLogin(event) {
            event.preventDefault();
            const userId = document.getElementById('loginUserId').value;
            const level = document.getElementById('loginLevel').value;
            localStorage.setItem('currentStudent', JSON.stringify({fullName: userId, userId, level}));
            showMessage('‚úÖ Login successful!');
            setTimeout(() => { showPage('dashboard'); setGreeting(); }, 800);
        }

        function handleLogout() {
            localStorage.removeItem('currentStudent');
            showMessage('üëã Logged out!');
            setTimeout(() => { showPage('home'); }, 800);
        }

        function setGreeting() {
            const student = JSON.parse(localStorage.getItem('currentStudent'));
            if (student) {
                document.getElementById('studentName').textContent = student.fullName;
                populateSubjects();
                const hour = new Date().getHours();
                let greeting = hour < 12 ? 'üåÖ Good Morning!' : hour < 17 ? 'üå§Ô∏è Good Afternoon!' : hour < 21 ? 'üåÜ Good Evening!' : 'üåô Good Night!';
                document.getElementById('greetingMessage').textContent = greeting;
            }
        }

        function populateSubjects() {
            const student = JSON.parse(localStorage.getItem('currentStudent'));
            const subjectSelect = document.getElementById('subjectSelect');
            const level = student.level;
            subjectSelect.innerHTML = '<option value="">Choose Subject</option>';
            
            if (curriculumData[level]) {
                Object.keys(curriculumData[level]).forEach(subject => {
                    const option = document.createElement('option');
                    option.value = subject;
                    option.text = subject + ` (${curriculumData[level][subject].chapters.length} chapters)`;
                    subjectSelect.appendChild(option);
                });
            }
        }

        function loadChaptersAndSyllabus() {
            const student = JSON.parse(localStorage.getItem('currentStudent'));
            const subject = document.getElementById('subjectSelect').value;
            const chapterSelect = document.getElementById('chapterSelect');
            const syllabusDisplay = document.getElementById('syllabusDisplay');
            
            chapterSelect.innerHTML = '<option value="">Choose Chapter</option>';
            syllabusDisplay.innerHTML = '';
            
            if (subject && curriculumData[student.level][subject]) {
                currentSubject = subject;
                const subjectData = curriculumData[student.level][subject];
                
                // Show syllabus
                syllabusDisplay.innerHTML = `<div class="syllabus-list">
                    <h3 style="color: #00D9FF; margin-bottom: 10px;">üìñ Syllabus for ${subject}</h3>
                    <p style="white-space: pre-wrap; color: #ccc;">${subjectData.syllabus}</p>
                </div>`;
                
                // Load chapters
                subjectData.chapters.forEach((chapter, i) => {
                    const option = document.createElement('option');
                    option.value = chapter;
                    option.text = `${i+1}. ${chapter}`;
                    chapterSelect.appendChild(option);
                });
            }
        }

        function loadTopics() {
            currentChapter = document.getElementById('chapterSelect').value;
            if (!currentChapter) return;
            if (!topicsData[currentChapter]) topicsData[currentChapter] = [];
            displayTopics();
        }

        function addTopic() {
            if (!currentChapter) { showMessage('‚ùå Select chapter'); return; }
            const name = document.getElementById('topicName').value;
            const questions = document.getElementById('questionNumbers').value;
            const classification = document.getElementById('classification').value;
            if (!name || !questions || !classification) { showMessage('‚ùå Fill all fields'); return; }

            topicsData[currentChapter].push({name, questions, classification, revision: false});
            document.getElementById('topicName').value = '';
            document.getElementById('questionNumbers').value = '';
            document.getElementById('classification').value = '';
            displayTopics();
            showMessage('‚úÖ Topic added!');
        }

        function displayTopics() {
            const tbody = document.getElementById('topicBody');
            tbody.innerHTML = '';
            const topics = topicsData[currentChapter] || [];
            if (topics.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" style="text-align: center;">No topics yet</td></tr>';
                return;
            }

            topics.forEach((t, i) => {
                const row = tbody.insertRow();
                row.innerHTML = `<td>${i+1}</td><td>${t.name}</td><td>${t.questions}</td><td>${t.classification}</td><td><input type="checkbox" ${t.revision ? 'checked' : ''} onchange="toggleRevision(${i})"></td><td><button class="btn-small" onclick="deleteTopic(${i})">Delete</button></td>`;
            });

            document.getElementById('totalTopics').textContent = topics.length;
            document.getElementById('revisionCount').textContent = topics.filter(t => t.revision).length;
            document.getElementById('completedCount').textContent = topics.filter(t => !t.revision).length;
        }

        function deleteTopic(i) {
            topicsData[currentChapter].splice(i, 1);
            displayTopics();
        }

        function toggleRevision(i) {
            topicsData[currentChapter][i].revision = !topicsData[currentChapter][i].revision;
            displayTopics();
        }

        function updateTimer() {
            const type = document.getElementById('sessionType').value;
            timeLeft = type === 'study' ? 1500 : type === 'break' ? 300 : 900;
            displayTime();
        }

        function displayTime() {
            const mins = Math.floor(timeLeft / 60);
            const secs = timeLeft % 60;
            document.getElementById('timerDisplay').textContent = `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }

        function startTimer() {
            if (timerInterval) return;
            timerInterval = setInterval(() => {
                timeLeft--;
                displayTime();
                if (timeLeft === 0) {
                    clearInterval(timerInterval);
                    timerInterval = null;
                    showMessage('‚úÖ Session completed!');
                    updateTimer();
                }
            }, 1000);
        }

        function pauseTimer() {
            if (timerInterval) { clearInterval(timerInterval); timerInterval = null; }
        }

        function resetTimer() {
            pauseTimer();
            updateTimer();
        }

        function sendMessage() {
            const input = document.getElementById('userInput').value;
            if (!input) return;

            const chatMessages = document.getElementById('chatMessages');
            const userMsg = document.createElement('div');
            userMsg.style.cssText = 'padding: 10px; background: rgba(0, 217, 255, 0.1); border-radius: 8px; margin-bottom: 15px;';
            userMsg.innerHTML = `<strong>You:</strong> ${input}`;
            chatMessages.appendChild(userMsg);

            setTimeout(() => {
                const botMsg = document.createElement('div');
                botMsg.style.cssText = 'padding: 10px; background: rgba(123, 97, 255, 0.1); border-radius: 8px; margin-bottom: 15px;';
                const response = generateAIResponse(input);
                botMsg.innerHTML = `<strong>Sanjeevni:</strong> ${response}`;
                chatMessages.appendChild(botMsg);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 500);

            document.getElementById('userInput').value = '';
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function handleKeyPress(e) {
            if (e.key === 'Enter') sendMessage();
        }

        function generateAIResponse(question) {
            const lower = question.toLowerCase();
            const responses = {
                'revenue': 'Revenue under Ind AS 115 is recognized when control of promised goods/services is transferred to customer. Recognition happens at point of sale or over time depending on performance obligation.',
                'depreciation': 'Depreciation = (Cost - Salvage Value) / Useful Life. Straight-line spreads evenly. Written Down Value (WDV) method depreciates on reducing balance.',
                'audit': 'Auditing is systematic examination of financial statements to form opinion on fair presentation. Auditor gathers sufficient evidence through various audit procedures.',
                'gst': 'GST rates: 5% (essentials), 12% (common goods), 18% (regular items), 28% (luxury). Input tax credit allowed for business purchases.',
                'ind as': 'Ind AS are Indian Accounting Standards converged with IFRS. All 34 standards cover recognition, measurement, and disclosure requirements.',
                'provision': 'Provision is recognized when: (1) Present obligation exists (2) Probable outflow (3) Reliable estimate possible. Example: Warranty provisions, bonus provisions.'
            };

            for (let key in responses) {
                if (lower.includes(key)) return responses[key];
            }
            return 'Great question! In CA studies, understand the core principle first, then apply rules with examples. Would you like me to explain any specific aspect further?';
        }

        function openPaymentModal() {
            const qrCodeImage = document.getElementById('qrCodeImage');
            // Using your UPI QR code - in production, use actual QR code image URL
            // For now, creating a placeholder that shows the UPI link
            qrCodeImage.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==';
            // Note: Replace with actual QR code image URL from your server
            // Example: qrCodeImage.src = 'https://yourserver.com/qrcodes/9044621001@ibl.png';
            document.getElementById('paymentModal').classList.add('active');
        }

        function closePaymentModal() {
            document.getElementById('paymentModal').classList.remove('active');
        }

        function showMessage(text) {
            const msg = document.createElement('div');
            msg.className = 'message-notification';
            msg.textContent = text;
            document.body.appendChild(msg);
            setTimeout(() => msg.remove(), 3000);
        }

        window.addEventListener('load', () => {
            const student = localStorage.getItem('currentStudent');
            if (student) { showPage('dashboard'); setGreeting(); }
        });
    </script>
</body>
</html>
